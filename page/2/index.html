<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">




    <meta name="keywords" content=""/>



    <meta name="description" content="Kumiko77"/>


<meta name="Robots" content="all">


    <title>Kumiko77</title>


<link rel="icon" href="/images/favicon.ico">

<link rel="stylesheet" href="/css/font-awesome.min.css">


<link rel="stylesheet" href="/css/atom-one-dark.css">


<link rel="stylesheet" href="/css/style.css">


<script src="/js/highlight.min.js"></script>

<meta name="generator" content="Hexo 4.2.1"></head>
<body>
    <div class="main-container">
        <header class="header">
    <div class="global-width">
        <nav class="nav-box">
            
                <a class="nav-item" href="/"
                
                >Home</a>
            
                <a class="nav-item" href="/resume"
                
                >Resume</a>
            
                <a class="nav-item" href="/mood"
                
                   target="_blank"
                
                >Mood</a>
            
                <a class="nav-item" href="/amusement/tetris"
                
                   target="_blank"
                
                >Amusement</a>
            
                <a class="nav-item" href="/about"
                
                >About</a>
            
        </nav>
    </div>
</header>

        <section class="content global-width">
            <div class="main">
                
    
        <article class="box post post-item">
            <div class="post-title"><a href="/2020/10/12/%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81/">防抖与节流</a></div>
            <div class="post-meta">
                
                <i class="fa fa-calendar"></i> <time>2020-10-12</time>
                <span class="dotted">|</span>
                <i class="fa fa-user"></i> 
            </div>

            <div class="post-excerpt">
                <a href="/2020/10/12/%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81/">
                    <p>
                        
                            防抖函数和节流函数是在日常开发中使用频率比较高的两个函数，可以有效的优化浏览器性能
防抖函数(debounce)在事件被触发 n 秒后再执行回调，如果在这 n 秒内又被触发，则重新计时
例子1如果有人进电梯（触发事件），那电梯将在 10 秒钟后启动（执行事件），这时如果又有人进电梯了（在 10 秒内再次触发该事件），我们又得等 10 秒再启动（重新计时）
例子2** 滚动条监听 ** ，对于这么一个常用的功能来说，很多网站都会提供一个返回顶部的按钮。这个按钮只会在滚动到距离顶部一定位置之后才出现，假设说我们现在有这么一个需求，监听浏览器滚动事件，返回当前滚条与顶部的距离
12345function showTop  () &#123;    var scrollTop &#x3D; document.body.scrollTop || document.documentElement.scrollTop;　　console.log(&#39;滚动条位置：&#39; + scrollTop);&#125;window.onscroll  &#x3D; showTop
但是这样写代码，在运行的时候会发现存在一个问题：这个函数的默认执行频率，太！高！了！。 高到什么程度呢？以chrome为例，我们可以点击选中一个页面的滚动条，然后点击一次键盘的【向下方向键】，会发现函数执行了8-9次
然而实际上我们并不需要如此高频的反馈，毕竟浏览器的性能是有限的，不应该浪费在这里。所以这里就需要防抖函数来处理
基于上述场景给出一种思路，在第一次触发时不执行该操作，给出一个延迟值比如200ms，接着

如果在200ms内没有再次触发滚动条操作，则执行该操作
如果在200ms内再次触发滚动条操作则清楚计时器重新计时

效果： 在短时间内重复执行相同操作，只执行一次
1234567891011121314function debounce(fn,delay)&#123;    let timer &#x3D; null &#x2F;&#x2F;闭包    return function() &#123;        if(timer)&#123;            clearTimeout(timer)         &#125;        timer &#x3D; setTimeout(fn,delay)    &#125;&#125;function showTop  () &#123;    var scrollTop &#x3D; document.body.scrollTop || document.documentElement.scrollTop;　　console.log(&#39;滚动条位置：&#39; + scrollTop);&#125;window.onscroll &#x3D; debounce(showTop,1000) &#x2F;&#x2F; 为了方便观察效果我们取个大点的间断值，实际使用根据需要来配置
此时会发现，必须在停止滚动1秒以后，才会打印出滚动条位置。
节流函数(throttle)继续说上面的问题，上述场景出现的问题用防抖来解决也会出现一个问题：
如果在限定时间，有个用户闲着无聊一直拖着滚动条移来移去不断触发滚动条时间，理论上是永远不会当前距离顶部的距离
但是万一需求提出就算用户不断拖动滚动条，也能在某个时间间隔给出反馈
对于此需求，我们可以设计一种类似控制阀门一样定期开放的函数，也就是让函数执行一次后，在某个时间段内暂时失效，过了这段时间后再重新激活
效果： 如果短时间内大量触发同一事件，那么在函数执行一次之后，该函数在指定的时间期限内不再工作，直至过了这段时间才重新生效。
1234567891011121314151617181920function throttle(fn,delay)&#123;    let valid &#x3D; true    return function() &#123;       if(!valid)&#123;           &#x2F;&#x2F;休息时间           return false        &#125;       &#x2F;&#x2F; 工作时间，执行函数并且在间隔期内把状态位设为无效        valid &#x3D; false        setTimeout(() &#x3D;&gt; &#123;            fn()            valid &#x3D; true;        &#125;, delay)    &#125;&#125;function showTop  () &#123;    var scrollTop &#x3D; document.body.scrollTop || document.documentElement.scrollTop;　　console.log(&#39;滚动条位置：&#39; + scrollTop);&#125;window.onscroll &#x3D; throttle(showTop,1000)
如果一直拖着滚动条进行滚动，那么会以1s的时间间隔，持续输出当前位置和顶部的距离
应用场景节流1.搜索框input事件，例如要支持输入实时搜索可以使用节流方案（间隔一段时间就必须查询相关内容），或者实现输入间隔大于某个值（如500ms），就当做用户输入完成，然后开始搜索，具体使用哪种方案要看业务需求。

自动保存草稿功能，当用户在输入的时候(一直触发事件),单位时间内只保存一次草稿防抖
表单的连续点击，防止重复提交。比如重复发送一篇文章。

2.类百度的搜索，连续输入等输入停止后再搜索。

                        
                    </p>
                </a>
            </div>

            
        </article>
    

    
        <article class="box post post-item">
            <div class="post-title"><a href="/2020/10/12/ES6%EF%BC%9Avar%20let%20const/">ES6：var let const</a></div>
            <div class="post-meta">
                
                <i class="fa fa-calendar"></i> <time>2020-10-12</time>
                <span class="dotted">|</span>
                <i class="fa fa-user"></i> 
            </div>

            <div class="post-excerpt">
                <a href="/2020/10/12/ES6%EF%BC%9Avar%20let%20const/">
                    <p>
                        
                            
首先声明一点，js中声明之后无法修改的变量称为常量反之可以修改的称为变量
在ES6之前常量与变量的声明都是使用var，例如：123var a &#x3D; 1;a &#x3D; 10;console.log(a);  &#x2F;&#x2F;10
区别let/const 和 var的区别


不可变量提升
块级作用域
不可重复声明
暂存性死区
let、const声明的变量均不会挂在在window对象上

tips:
1:通过const声明的变量必须马上赋值，否则会报错(Missing initializer in const declaration)
2:通过const声明的数据不可更改除了对象、数组（其修改的是内部数据、而不是指针指向地址
不使用块级作用域的弊端
如果使用ES5的var来声明变量，内层变量会覆盖外层变量从而造成全局污染

同第一点，用于循环记数的变量会泄漏为全局变量


123456var time &#x3D; new Date();function tFunc() &#123;  console.log(time);   var time &#x3D; ‘123’;&#125;tFunc();  &#x2F;&#x2F;undefined
12345var arr &#x3D; [1, 2, 3, 4, 5];for(var i &#x3D; 0; i &lt; arr.length; i++)&#123;  console.log(arr[i]);&#125;console.log(i)  &#x2F;&#x2F;5(此处的i全局范围内都可以读取到）
关于块级作用域12345678function func()&#123;  let a &#x3D; 1;  if(true)&#123;    let a &#x3D; 2    console.log(a)  &#x2F;&#x2F;2 内层a  &#125;  console.log(a)  &#x2F;&#x2F;1 外层的a&#125;
1234&#123;  let a &#x3D; &#39;Hello World&#39;&#125;console.log(a); &#x2F;&#x2F; 报错 获取不到子作用域的变量
不可变量提升何为变量提升？在统一作用域下变量可在声明前使用且值为undefined
1234567&#x2F;&#x2F; varconsole.log(a); &#x2F;&#x2F; 输出undefinedvar a &#x3D; 2;	&#x2F;&#x2F; letconsole.log(b); &#x2F;&#x2F; 报错ReferenceErrorlet b &#x3D; 2;
暂存性死区只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响
12345var a &#x3D; 123;if (true) &#123;  a &#x3D; &#39;abc&#39;; &#x2F;&#x2F; 报错 因为本区域有tmp声明变量  let a; &#x2F;&#x2F; 绑定if这个块级的作用域 不能出现tmp变量&#125;
不可重复声明变量let、const不允许在相同作用域内，重复声明同一个变量
123456789function func(arg) &#123;  let arg; &#x2F;&#x2F; 报错&#125;function func(arg) &#123;  &#123;    let arg; &#x2F;&#x2F; 不报错  &#125;&#125;
let、const声明的全局变量不会挂载在顶层对象下面1.浏览器环境顶层对象是: window
2.var声明的全局变量会挂在顶层对象下面，而let、const不会挂在顶层对象下面。
1234var a &#x3D; 1;window.a &#x2F;&#x2F; 1let b &#x3D; 1;window.b &#x2F;&#x2F; undefined
                        
                    </p>
                </a>
            </div>

            
        </article>
    

    
        <article class="box post post-item">
            <div class="post-title"><a href="/2020/06/18/%E5%85%B3%E4%BA%8E$emit%E7%9A%84%E7%90%86%E8%A7%A3/">关于$emit的理解</a></div>
            <div class="post-meta">
                
                <i class="fa fa-calendar"></i> <time>2020-06-18</time>
                <span class="dotted">|</span>
                <i class="fa fa-user"></i> 
            </div>

            <div class="post-excerpt">
                <a href="/2020/06/18/%E5%85%B3%E4%BA%8E$emit%E7%9A%84%E7%90%86%E8%A7%A3/">
                    <p>
                        
                            $emit
emit的意思是发出、射出。
子组件可以通过props接收父组件传递过来的数据。
子组件也可以用过$emit来触发父组件的自定事件，再说的通俗易懂一些就是子组件可以调用父组件的方法。用法1$emit( eventName, […args] )


eventName：这是一个事件名，会绑定一个方法。当组件触发事件后，将调用这个方法。
[…args]：附加的参数，会被抛出，由上述绑定的方法接收使用。例子子组件：123456789101112131415161718&lt;template&gt;  &lt;button @click="emitEvent"&gt;点击我&lt;/button&gt;&lt;/template&gt;&lt;script&gt;  export default &#123;    data() &#123;      return &#123;        msg: "我是子组件中的数据"      &#125;    &#125;,    methods: &#123;      emitEvent()&#123;        this.$emit('my-event', this.msg)        //通过按钮的点击事件触发方法，然后用$emit触发一个my-event的自定义方法，传递this.msg数据。      &#125;    &#125;  &#125;&lt;/script&gt;
父组件：12345678910111213141516171819&lt;template&gt;  &lt;div id="app"&gt;    &lt;child-a @my-event="getMyEvent"&gt;&lt;/child-a&gt;    &lt;!--父组件中通过监测my-event事件执行一个方法，然后取到子组件中传递过来的值--&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;  import ChildA from './components/child.vue'  export default &#123;    components: &#123;      ChildA    &#125;,    methods: &#123;      getMyEvent(msg)&#123;          console.log('接收的数据---------&gt;'+msg)//接收的数据---------&gt;我是子组件中的数据      &#125;    &#125;  &#125;&lt;/script&gt;


                        
                    </p>
                </a>
            </div>

            
        </article>
    

    
        <article class="box post post-item">
            <div class="post-title"><a href="/2020/06/12/hello-world/">Hello World</a></div>
            <div class="post-meta">
                
                <i class="fa fa-calendar"></i> <time>2020-06-12</time>
                <span class="dotted">|</span>
                <i class="fa fa-user"></i> 
            </div>

            <div class="post-excerpt">
                <a href="/2020/06/12/hello-world/">
                    <p>
                        
                            Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new "My New Post"

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment

                        
                    </p>
                </a>
            </div>

            
        </article>
    



    <nav class="page-nav">
        <a class="extend prev" rel="prev" href="/">Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
    </nav>

            </div>
            <div class="aside">
    
        <div class="box widget">
    <div class="introduction">
        <p><img src="/images/avatar.jpg" alt="head-sculpture" /></p>
        <p class="name">
            博落回
        </p>
        <p class="slogan">流连矣 忘景幻云催 峦栈醺醺说旧梦 重山迟迟映霞辉 向晚共邀归 —— 忆江南</p>
    </div>
</div>
    
        
<div class="box widget">
    <div class="title">Recent</div>
    <ul class="item-box">
        
            
                <li><a href="/2020/11/07/%E5%85%B3%E4%BA%8EVue%E4%B8%AD%E7%9A%84%E8%99%9A%E6%8B%9FDOM/">关于Vue中的虚拟DOM</a></li>
            
        
            
                <li><a href="/2020/11/07/%E5%85%B3%E4%BA%8EVue%E7%9A%84%E6%95%B0%E6%8D%AE%E5%93%8D%E5%BA%94%E5%BC%8F/">关于Vue的数据响应式</a></li>
            
        
            
                <li><a href="/2020/10/28/%E5%85%B3%E4%BA%8Ejs%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/">关于js原型和原型链</a></li>
            
        
            
                <li><a href="/2020/10/26/Vuex%E6%A8%A1%E5%9D%97%E5%8C%96/">Vuex模块化</a></li>
            
        
            
                <li><a href="/2020/10/26/Vuex%E5%9F%BA%E7%A1%80/">Vuex基础</a></li>
            
        
            
                <li><a href="/2020/10/22/Vue-Router%E5%9F%BA%E7%A1%80/">Vue-Router基础</a></li>
            
        
            
                <li><a href="/2020/10/19/js%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E8%AE%A1%E7%AE%97%E5%AF%BC%E8%87%B4%E9%A1%B5%E9%9D%A2%E5%81%87%E6%AD%BB%EF%BC%88Web%20Worker%EF%BC%89/">js大量数据计算导致页面假死（Web Worker）</a></li>
            
        
            
                <li><a href="/2020/10/19/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%8D%9A%E5%AE%A2/">如何搭建本博客</a></li>
            
        
    </ul>
</div>

    
        
    
        
  <div class="box widget">
    <div class="title">Archives</div>
    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">2020-11</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">2020-10</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">2020-06</a><span class="archive-list-count">2</span></li></ul>
  </div>

    
        
    
</div>
        </section>
        <footer class="footer">
    <div class="global-width footer-box">
        <div class="copyright">
            <span>Copyright &copy; 2019</span>
            <span class="dotted">|</span>
            <span>Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a></span>
            <span class="dotted">|</span>
            <span>Theme by <a href="javascript:">Loren</a></span>
            <span class="dotted">|</span>
            <span><a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener">浙ICP备18016660号-1</a></span>
        </div>
    </div>
</footer>
    </div>

<script>
    hljs.initHighlightingOnLoad();
</script>
</body>
</html>